<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RecomendaÃ§Ã£o de Playlist</title>

    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- CSS Personalizado -->
    <link rel="stylesheet" href="{{ url_for('static', path='/styles.css') }}">
</head>
<body>

<div class="container text-center">
    <h1 class="mb-4">ğŸ¶ Descubra sua Playlist ğŸ¶</h1>
    <p>Digite um texto e descubra uma playlist recomendada baseada no seu humor!</p>
    
    <div class="mb-3">
        <textarea id="texto" class="form-control" rows="3" placeholder="Escreva como estÃ¡ se sentindo..."></textarea>
    </div>
    
    <button onclick="buscarPlaylist()" class="btn btn-primary">ğŸ” Descobrir Playlist</button>

    <div id="loading" class="mt-3" style="display: none;">
        <div class="spinner-border text-primary" role="status">
            <span class="visually-hidden">Carregando...</span>
        </div>
    </div>

    <div class="playlist-container" id="playlist-container">
        <h3 class="mt-3">Sua Playlist:</h3>
        <h4 id="playlist-sentimento" class="mt-2"></h4>  
        <img id="playlist-image" class="playlist-image" src="" alt="Imagem da Playlist">
        <h4 id="playlist-nome" class="mt-2"></h4>
        <a id="playlist-link" class="btn btn-success mt-2" target="_blank">ğŸµ Ouvir no Spotify</a>
    </div>

    <div id="mensagem-erro" class="text-danger mt-3"></div>

   <!-- SeÃ§Ã£o para HistÃ³rico e GrÃ¡fico Lado a Lado -->
<div class="row mt-5">
    <!-- ğŸ“œ HistÃ³rico de RecomendaÃ§Ãµes -->
    <div class="col-historico">
        <h3>ğŸ“œ HistÃ³rico de RecomendaÃ§Ãµes</h3>
        <div class="table-responsive">
            <table class="table table-striped mt-3">
                <thead>
                    <tr>
                        <th>Texto</th>
                        <th>Sentimento</th>
                        <th>Playlist</th>
                        <th>Link</th>
                    </tr>
                </thead>
                <tbody id="historico-tabela">
                    <!-- As buscas anteriores serÃ£o inseridas aqui via JavaScript -->
                </tbody>
            </table>
        </div>
    </div>

    <!-- ğŸ“Š Dashboard de EstatÃ­sticas -->
    <div class="col-grafico text-center">
        <h3>ğŸ“Š EstatÃ­sticas de Sentimentos</h3>
        <div class="chart-container">
            <canvas id="grafico-estatisticas"></canvas>
        </div>
    </div>
</div>


<!-- ImportaÃ§Ã£o do JavaScript externo -->
<script src="{{ url_for('static', path='/script.js') }}"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

</body>
</html>
